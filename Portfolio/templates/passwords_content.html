<div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="text-white m-0">Saved Logins</h1>
    
    <button class="btn btn-primary" 
            id="add-login-button" 
            data-bs-toggle="modal" 
            data-bs-target="#editPasswordModal" 
            style="background-color: var(--teal); border-color: var(--teal);">
        <i class="bi bi-plus-lg"></i> Add New Login
    </button>
</div>

{% if password_list != "No passwords" %}

<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
  {% for pwd in password_list %}

  <div class="col">
    <div
      class="card h-100 border-0 shadow-sm"
      style="background-color: var(--main3); color: var(--light_gray)"
    >
      <div class="card-body pb-2">
        <div
          class="d-flex align-items-center justify-content-between mb-2 pb-2 border-bottom border-secondary"
        >
          <div class="d-flex align-items-center">
            <i class="bi bi-key-fill me-2 fs-5" style="color: var(--teal)"></i>
            <h5 class="card-title fw-bold m-0">{{ pwd.service_name }}</h5>
          </div>

          <button
            class="btn btn-sm btn-outline-secondary action-button ms-3"
            data-action="edit"
            data-id="{{ pwd.id }}"
            data-service="{{ pwd.service_name }}"
            data-username="{{ pwd.service_username }}"
            data-password="{{ pwd.service_password }}"
            type="button"
          >
            <i class="bi bi-pencil-square"></i> Edit
          </button>
        </div>

        <p class="card-text text-white-50 small mt-3">
          <span class="fw-bold">Username:</span>
          <span class="text-white">{{ pwd.service_username }}</span><br />

          <span class="fw-bold">Password:</span>
          <span
            class="text-white-50"
            id="password-{{ loop.index }}"
            style="user-select: none"
          >
            ●●●●●●●●●●
          </span>

          <i
            class="bi bi-eye-fill ms-2 password-toggle"
            data-password-target="#password-{{ loop.index }}"
            data-password-value="{{ pwd.service_password }}"
            style="cursor: pointer; color: var(--teal)"
          >
          </i>
        </p>
      </div>

      <div
        class="card-footer bg-transparent border-0 d-flex justify-content-between pt-0"
      >
        <button
          class="btn btn-sm btn-outline-danger action-button"
          data-action="delete"
          data-id="{{ pwd.id }}"
          data-service="{{ pwd.service_name }}"
          type="button"
        >
          <i class="bi bi-trash"></i> Delete
        </button>

        <div class="btn-group" role="group">
          <button
            class="btn btn-sm btn-outline-secondary copy-button me-2"
            data-copy-target="{{ pwd.service_username }}"
            type="button"
          >
            <i class="bi bi-clipboard"></i> Username
          </button>

          <button
            class="btn btn-sm btn-outline-secondary copy-button"
            data-copy-target="{{ pwd.service_password }}"
            type="button"
          >
            <i class="bi bi-clipboard-check"></i> Password
          </button>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

{% else %}

<div
  class="card p-4 border-0 shadow-sm"
  style="background-color: var(--main3); color: var(--light_gray)"
>
  <h2 class="h4 text-white m-0">
    <i class="bi bi-key-fill me-2" style="color: var(--teal)"></i>
    You have no saved passwords.
  </h2>
  </div>

{% endif %}